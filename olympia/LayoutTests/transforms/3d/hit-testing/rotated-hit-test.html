<html>
<head>
  <title>Hit testing of almost edge-on elements</title>
  <style type="text/css" media="screen">
  
  div:hover {
    outline: 2px solid orange;
  }
    #container {
      width: 200px;
      height: 200px;
      border: 1px solid black;
      -webkit-perspective: 500;
    }
    
    .box {
      display: inline-block;
      width: 200px;
      height: 200px;
      background-color: gray;
      -webkit-transform-origin: 10% 50%;
      -webkit-transform: rotateY(90deg);
    }
    .box:hover {
      background-color: orange;
    }
  </style>
  <script type="text/javascript" charset="utf-8">
    function log(s)
    {
      var results = document.getElementById('results');
      results.innerHTML += s + '<br>';
    }

    function runTest()
    {
      var firstHit = document.elementFromPoint(40, 150);
      
      var box1 = document.getElementById('box1');
      var container = document.getElementById('container');

      if (firstHit == box1)
        log('Found box1: PASS');
      else
        log('Found ' + firstHit.id + ' : FAIL');
    }
    
  </script>
</head>
<body onload="runTest()">

<div id="container">
  <div class="box" id="box1"></div>
</div>

<div id="results">
</div>

</body>
</html>
