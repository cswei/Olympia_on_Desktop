
find_package(JPEG REQUIRED)
include_directories(${JPEG_INCLUDE_DIR})
set(optionalLibs ${optionalLibs} ${JPEG_LIBRARIES})

if (CMAKE_SYSTEM_NAME MATCHES "Darwin")
find_package(PNG 1.4.5 EXACT REQUIRED)
else ()
find_package(PNG REQUIRED)
endif ()
include_directories(${PNG_INCLUDE_DIR})
set(optionalLibs ${optionalLibs} ${PNG_LIBRARIES})

find_package(LibXml2 REQUIRED)
include_directories(${LIBXML2_INCLUDE_DIR})
set(optionalLibs ${optionalLibs} ${LIBXML2_LIBRARIES})

SET(WebCore_INCLUDE_DIRECTORIES
    "${WEBCORE_DIR}"
    "${WEBCORE_DIR}/accessibility"
    "${WEBCORE_DIR}/bindings"
    "${WEBCORE_DIR}/bindings/cpp"
    "${WEBCORE_DIR}/bindings/js"
    "${WEBCORE_DIR}/bridge"
    "${WEBCORE_DIR}/bridge/c"
    "${WEBCORE_DIR}/bridge/jni/jsc"
    "${WEBCORE_DIR}/bridge/jsc"
    "${WEBCORE_DIR}/css"
    "${WEBCORE_DIR}/dom"
    "${WEBCORE_DIR}/dom/default"
    "${WEBCORE_DIR}/editing"
    "${WEBCORE_DIR}/history"
    "${WEBCORE_DIR}/html"
    "${WEBCORE_DIR}/html/canvas"
    "${WEBCORE_DIR}/inspector"
    "${WEBCORE_DIR}/loader"
    "${WEBCORE_DIR}/loader/appcache"
    "${WEBCORE_DIR}/loader/archive"
    "${WEBCORE_DIR}/loader/icon"
    "${WEBCORE_DIR}/notifications"
    "${WEBCORE_DIR}/page"
    "${WEBCORE_DIR}/page/animation"
    "${WEBCORE_DIR}/platform"
    "${WEBCORE_DIR}/platform/animation"
    "${WEBCORE_DIR}/platform/graphics"
    "${WEBCORE_DIR}/platform/graphics/filters"
    "${WEBCORE_DIR}/platform/graphics/transforms"
    "${WEBCORE_DIR}/platform/image-decoders"
    "${WEBCORE_DIR}/platform/image-decoders/bmp"
    "${WEBCORE_DIR}/platform/image-decoders/gif"
    "${WEBCORE_DIR}/platform/image-decoders/ico"
    "${WEBCORE_DIR}/platform/image-decoders/jpeg"
    "${WEBCORE_DIR}/platform/image-decoders/png"
    "${WEBCORE_DIR}/platform/mock"
    "${WEBCORE_DIR}/platform/network"
    "${WEBCORE_DIR}/platform/sql"
    "${WEBCORE_DIR}/platform/text"
    "${WEBCORE_DIR}/platform/text/transcoder"
    "${WEBCORE_DIR}/plugins"
    "${WEBCORE_DIR}/rendering"
    "${WEBCORE_DIR}/rendering/style"
    "${WEBCORE_DIR}/storage"
    "${WEBCORE_DIR}/svg"
    "${WEBCORE_DIR}/svg/animation"
    "${WEBCORE_DIR}/svg/graphics"
    "${WEBCORE_DIR}/svg/graphics/filters"
    "${WEBCORE_DIR}/websockets"
    "${WEBCORE_DIR}/workers"
    "${WEBCORE_DIR}/xml"
    "${JAVASCRIPTCORE_DIR}"
    "${JAVASCRIPTCORE_DIR}/ForwardingHeaders"
    "${JAVASCRIPTCORE_DIR}/API"
    "${JAVASCRIPTCORE_DIR}/assembler"
    "${JAVASCRIPTCORE_DIR}/bytecode"
    "${JAVASCRIPTCORE_DIR}/bytecompiler"
    "${JAVASCRIPTCORE_DIR}/debugger"
    "${JAVASCRIPTCORE_DIR}/interpreter"
    "${JAVASCRIPTCORE_DIR}/jit"
    "${JAVASCRIPTCORE_DIR}/parser"
    "${JAVASCRIPTCORE_DIR}/pcre"
    "${JAVASCRIPTCORE_DIR}/profiler"
    "${JAVASCRIPTCORE_DIR}/runtime"
    "${JAVASCRIPTCORE_DIR}/wtf"
    "${JAVASCRIPTCORE_DIR}/wtf/text"
    "${JAVASCRIPTCORE_DIR}/wtf/unicode"
    "${DERIVED_SOURCES_DIR}"
    "${CMAKE_SOURCE_DIR}"
    "${CMAKE_BINARY_DIR}"
)

SET(WebCore_IDL_INCLUDES
    bindings/js
    css
    dom
    html
    html/canvas
    inspector
    loader/appcache
    page
    plugins
    storage
    svg
    workers
    xml
)

SET(WebCore_IDL_PURE_FILES
    svg/ElementTimeControl.idl
    svg/SVGAnimatedPathData.idl
    svg/SVGAnimatedPoints.idl
    svg/SVGExternalResourcesRequired.idl
    svg/SVGFilterPrimitiveStandardAttributes.idl
    svg/SVGFitToViewBox.idl
    svg/SVGLangSpace.idl
    svg/SVGLocatable.idl
    svg/SVGStylable.idl
    svg/SVGTests.idl
    svg/SVGTransformable.idl
    svg/SVGURIReference.idl
    svg/SVGViewSpec.idl
    svg/SVGZoomAndPan.idl
)

SET(WebCore_IDL_FILES
    css/Counter.idl
    css/CSSCharsetRule.idl
    css/CSSFontFaceRule.idl
    css/CSSImportRule.idl
    css/CSSMediaRule.idl
    css/CSSPageRule.idl
    css/CSSPrimitiveValue.idl
    css/CSSRule.idl
    css/CSSRuleList.idl
    css/CSSStyleDeclaration.idl
    css/CSSStyleRule.idl
    css/CSSStyleSheet.idl
    css/CSSUnknownRule.idl
    css/CSSValue.idl
    css/CSSValueList.idl
    css/CSSVariablesDeclaration.idl
    css/CSSVariablesRule.idl
    css/MediaList.idl
    css/Rect.idl
    css/RGBColor.idl
    css/StyleMedia.idl
    css/StyleSheet.idl
    css/StyleSheetList.idl
    css/WebKitCSSKeyframeRule.idl
    css/WebKitCSSKeyframesRule.idl
    css/WebKitCSSMatrix.idl
    css/WebKitCSSTransformValue.idl

    dom/Attr.idl
    dom/BeforeLoadEvent.idl
    dom/CDATASection.idl
    dom/CharacterData.idl
    dom/ClientRect.idl
    dom/ClientRectList.idl
    dom/Clipboard.idl
    dom/Comment.idl
    dom/CompositionEvent.idl
    dom/CustomEvent.idl
    dom/DeviceOrientationEvent.idl
    dom/DocumentFragment.idl
    dom/Document.idl
    dom/DocumentType.idl
    dom/DOMCoreException.idl
    dom/DOMImplementation.idl
    dom/DOMStringList.idl
    dom/Element.idl
    dom/Entity.idl
    dom/EntityReference.idl
    dom/ErrorEvent.idl
    dom/EventException.idl
    dom/Event.idl
    dom/KeyboardEvent.idl
    dom/MessageChannel.idl
    dom/MessageEvent.idl
    dom/MessagePort.idl
    dom/MouseEvent.idl
    dom/MutationEvent.idl
    dom/NamedNodeMap.idl
    dom/NodeFilter.idl
    dom/Node.idl
    dom/NodeIterator.idl
    dom/NodeList.idl
    dom/Notation.idl
    dom/OverflowEvent.idl
    dom/PageTransitionEvent.idl
    dom/PopStateEvent.idl
    dom/ProcessingInstruction.idl
    dom/ProgressEvent.idl
    dom/RangeException.idl
    dom/Range.idl
    dom/TextEvent.idl
    dom/Text.idl
    dom/TouchEvent.idl
    dom/Touch.idl
    dom/TouchList.idl
    dom/TreeWalker.idl
    dom/UIEvent.idl
    dom/WebKitAnimationEvent.idl
    dom/WebKitTransitionEvent.idl
    dom/WheelEvent.idl

    html/Blob.idl
    html/DataGridColumn.idl
    html/DataGridColumnList.idl
    html/DOMFormData.idl
    html/FileError.idl
    html/File.idl
    html/FileList.idl
    html/FileReader.idl
    html/HTMLAllCollection.idl
    html/HTMLAnchorElement.idl
    html/HTMLAppletElement.idl
    html/HTMLAreaElement.idl
    html/HTMLAudioElement.idl
    html/HTMLBaseElement.idl
    html/HTMLBaseFontElement.idl
    html/HTMLBlockquoteElement.idl
    html/HTMLBodyElement.idl
    html/HTMLBRElement.idl
    html/HTMLButtonElement.idl
    html/HTMLCanvasElement.idl
    html/HTMLCollection.idl
    html/HTMLDataGridCellElement.idl
    html/HTMLDataGridColElement.idl
    html/HTMLDataGridElement.idl
    html/HTMLDataGridRowElement.idl
    html/HTMLDataListElement.idl
    html/HTMLDirectoryElement.idl
    html/HTMLDivElement.idl
    html/HTMLDListElement.idl
    html/HTMLDocument.idl
    html/HTMLElement.idl
    html/HTMLEmbedElement.idl
    html/HTMLFieldSetElement.idl
    html/HTMLFontElement.idl
    html/HTMLFormElement.idl
    html/HTMLFrameElement.idl
    html/HTMLFrameSetElement.idl
    html/HTMLHeadElement.idl
    html/HTMLHeadingElement.idl
    html/HTMLHRElement.idl
    html/HTMLHtmlElement.idl
    html/HTMLIFrameElement.idl
    html/HTMLImageElement.idl
    html/HTMLInputElement.idl
    html/HTMLIsIndexElement.idl
    html/HTMLLabelElement.idl
    html/HTMLLegendElement.idl
    html/HTMLLIElement.idl
    html/HTMLLinkElement.idl
    html/HTMLMapElement.idl
    html/HTMLMarqueeElement.idl
    html/HTMLMediaElement.idl
    html/HTMLMenuElement.idl
    html/HTMLMetaElement.idl
    html/HTMLMeterElement.idl
    html/HTMLModElement.idl
    html/HTMLObjectElement.idl
    html/HTMLOListElement.idl
    html/HTMLOptGroupElement.idl
    html/HTMLOptionElement.idl
    html/HTMLOptionsCollection.idl
    html/HTMLParagraphElement.idl
    html/HTMLParamElement.idl
    html/HTMLPreElement.idl
    html/HTMLProgressElement.idl
    html/HTMLQuoteElement.idl
    html/HTMLScriptElement.idl
    html/HTMLSelectElement.idl
    html/HTMLSourceElement.idl
    html/HTMLStyleElement.idl
    html/HTMLTableCaptionElement.idl
    html/HTMLTableCellElement.idl
    html/HTMLTableColElement.idl
    html/HTMLTableElement.idl
    html/HTMLTableRowElement.idl
    html/HTMLTableSectionElement.idl
    html/HTMLTextAreaElement.idl
    html/HTMLTitleElement.idl
    html/HTMLUListElement.idl
    html/HTMLVideoElement.idl
    html/ImageData.idl
    html/MediaError.idl
    html/TextMetrics.idl
    html/ValidityState.idl
    html/VoidCallback.idl

    html/canvas/ArrayBuffer.idl
    html/canvas/ArrayBufferView.idl
    html/canvas/CanvasGradient.idl
    html/canvas/CanvasPattern.idl
    html/canvas/CanvasRenderingContext2D.idl
    html/canvas/CanvasRenderingContext.idl
    html/canvas/WebGLRenderingContext.idl

    html/canvas/ArrayBuffer.idl
    html/canvas/ArrayBufferView.idl
    html/canvas/FloatArray.idl
    html/canvas/Int16Array.idl
    html/canvas/Int32Array.idl
    html/canvas/Int8Array.idl
    html/canvas/Uint16Array.idl
    html/canvas/Uint32Array.idl
    html/canvas/Uint8Array.idl

    inspector/InjectedScriptHost.idl
    inspector/InspectorBackend.idl
    inspector/InspectorFrontendHost.idl
    inspector/JavaScriptCallFrame.idl
    inspector/ScriptProfile.idl
    inspector/ScriptProfileNode.idl

    loader/appcache/DOMApplicationCache.idl

    notifications/Notification.idl
    notifications/NotificationCenter.idl

    page/BarInfo.idl
    page/Console.idl
    page/Coordinates.idl
    page/DOMSelection.idl
    page/DOMWindow.idl
    page/EventSource.idl
    page/Geolocation.idl
    page/Geoposition.idl
    page/History.idl
    page/Location.idl
    page/Navigator.idl
    page/PositionError.idl
    page/Screen.idl
    page/WebKitPoint.idl
    page/WorkerNavigator.idl

    plugins/MimeType.idl
    plugins/MimeTypeArray.idl
    plugins/Plugin.idl
    plugins/PluginArray.idl

    storage/Database.idl
    storage/DatabaseCallback.idl
    storage/DatabaseSync.idl
    storage/IDBAny.idl
    storage/IDBDatabaseError.idl
    storage/IDBDatabaseException.idl
    storage/IDBDatabaseRequest.idl
    storage/IDBErrorEvent.idl
    storage/IDBEvent.idl
    storage/IDBObjectStoreRequest.idl
    storage/IDBRequest.idl
    storage/IDBSuccessEvent.idl
    storage/IndexedDatabaseRequest.idl
    storage/SQLError.idl
    storage/SQLResultSet.idl
    storage/SQLResultSetRowList.idl
    storage/SQLStatementCallback.idl
    storage/SQLStatementErrorCallback.idl
    storage/SQLTransaction.idl
    storage/SQLTransactionCallback.idl
    storage/SQLTransactionErrorCallback.idl
    storage/SQLTransactionSync.idl
    storage/SQLTransactionSyncCallback.idl
    storage/Storage.idl
    storage/StorageEvent.idl

    workers/AbstractWorker.idl
    workers/DedicatedWorkerContext.idl
    workers/SharedWorker.idl
    workers/SharedWorkerContext.idl
    workers/Worker.idl
    workers/WorkerContext.idl
    workers/WorkerLocation.idl

    xml/DOMParser.idl
    xml/XMLHttpRequest.idl
    xml/XMLHttpRequestException.idl
    xml/XMLHttpRequestProgressEvent.idl
    xml/XMLHttpRequestUpload.idl
    xml/XMLSerializer.idl
    xml/XPathEvaluator.idl
    xml/XPathException.idl
    xml/XPathExpression.idl
    xml/XPathNSResolver.idl
    xml/XPathResult.idl
    xml/XSLTProcessor.idl

    websockets/WebSocket.idl
)

IF (ENABLE_VIDEO)
    SET(VIDEO_IDL_FILES 
        html/TimeRanges.idl
    )
    LIST(APPEND WebCore_IDL_FILES
          ${VIDEO_IDL_FILES}
    )
ENDIF()

IF (ENABLE_SVG)
    SET(SVG_IDL_FILES
        svg/SVGAElement.idl
        svg/SVGAltGlyphElement.idl
        svg/SVGAngle.idl
        svg/SVGAnimateColorElement.idl
        svg/SVGAnimateElement.idl
        svg/SVGAnimateTransformElement.idl
        svg/SVGAnimatedAngle.idl
        svg/SVGAnimatedBoolean.idl
        svg/SVGAnimatedEnumeration.idl
        svg/SVGAnimatedInteger.idl
        svg/SVGAnimatedLength.idl
        svg/SVGAnimatedLengthList.idl
        svg/SVGAnimatedNumber.idl
        svg/SVGAnimatedNumberList.idl
        svg/SVGAnimatedPreserveAspectRatio.idl
        svg/SVGAnimatedRect.idl
        svg/SVGAnimatedString.idl
        svg/SVGAnimatedTransformList.idl
        svg/SVGAnimationElement.idl
        svg/SVGCircleElement.idl
        svg/SVGClipPathElement.idl
        svg/SVGColor.idl
        svg/SVGComponentTransferFunctionElement.idl
        svg/SVGCursorElement.idl
        svg/SVGDefsElement.idl
        svg/SVGDescElement.idl
        svg/SVGDocument.idl
        svg/SVGElement.idl
        svg/SVGElementInstance.idl
        svg/SVGElementInstanceList.idl
        svg/SVGEllipseElement.idl
        svg/SVGException.idl
        svg/SVGFEBlendElement.idl
        svg/SVGFEColorMatrixElement.idl
        svg/SVGFEComponentTransferElement.idl
        svg/SVGFECompositeElement.idl
        svg/SVGFEDiffuseLightingElement.idl
        svg/SVGFEDisplacementMapElement.idl
        svg/SVGFEDistantLightElement.idl
        svg/SVGFEFloodElement.idl
        svg/SVGFEFuncAElement.idl
        svg/SVGFEFuncBElement.idl
        svg/SVGFEFuncGElement.idl
        svg/SVGFEFuncRElement.idl
        svg/SVGFEGaussianBlurElement.idl
        svg/SVGFEImageElement.idl
        svg/SVGFEMergeElement.idl
        svg/SVGFEMergeNodeElement.idl
        svg/SVGFEMorphologyElement.idl
        svg/SVGFEOffsetElement.idl
        svg/SVGFEPointLightElement.idl
        svg/SVGFESpecularLightingElement.idl
        svg/SVGFESpotLightElement.idl
        svg/SVGFETileElement.idl
        svg/SVGFETurbulenceElement.idl
        svg/SVGFilterElement.idl
        svg/SVGFontElement.idl
        svg/SVGFontFaceElement.idl
        svg/SVGFontFaceFormatElement.idl
        svg/SVGFontFaceNameElement.idl
        svg/SVGFontFaceSrcElement.idl
        svg/SVGFontFaceUriElement.idl
        svg/SVGForeignObjectElement.idl
        svg/SVGGElement.idl
        svg/SVGGlyphElement.idl
        svg/SVGGradientElement.idl
        svg/SVGHKernElement.idl
        svg/SVGImageElement.idl
        svg/SVGLength.idl
        svg/SVGLengthList.idl
        svg/SVGLineElement.idl
        svg/SVGLinearGradientElement.idl
        svg/SVGMarkerElement.idl
        svg/SVGMaskElement.idl
        svg/SVGMatrix.idl
        svg/SVGMetadataElement.idl
        svg/SVGMissingGlyphElement.idl
        svg/SVGNumber.idl
        svg/SVGNumberList.idl
        svg/SVGPaint.idl
        svg/SVGPathElement.idl
        svg/SVGPathSeg.idl
        svg/SVGPathSegArcAbs.idl
        svg/SVGPathSegArcRel.idl
        svg/SVGPathSegClosePath.idl
        svg/SVGPathSegCurvetoCubicAbs.idl
        svg/SVGPathSegCurvetoCubicRel.idl
        svg/SVGPathSegCurvetoCubicSmoothAbs.idl
        svg/SVGPathSegCurvetoCubicSmoothRel.idl
        svg/SVGPathSegCurvetoQuadraticAbs.idl
        svg/SVGPathSegCurvetoQuadraticRel.idl
        svg/SVGPathSegCurvetoQuadraticSmoothAbs.idl
        svg/SVGPathSegCurvetoQuadraticSmoothRel.idl
        svg/SVGPathSegLinetoAbs.idl
        svg/SVGPathSegLinetoHorizontalAbs.idl
        svg/SVGPathSegLinetoHorizontalRel.idl
        svg/SVGPathSegLinetoRel.idl
        svg/SVGPathSegLinetoVerticalAbs.idl
        svg/SVGPathSegLinetoVerticalRel.idl
        svg/SVGPathSegList.idl
        svg/SVGPathSegMovetoAbs.idl
        svg/SVGPathSegMovetoRel.idl
        svg/SVGPatternElement.idl
        svg/SVGPoint.idl
        svg/SVGPointList.idl
        svg/SVGPolygonElement.idl
        svg/SVGPolylineElement.idl
        svg/SVGPreserveAspectRatio.idl
        svg/SVGRadialGradientElement.idl
        svg/SVGRect.idl
        svg/SVGRectElement.idl
        svg/SVGRenderingIntent.idl
        svg/SVGSVGElement.idl
        svg/SVGScriptElement.idl
        svg/SVGSetElement.idl
        svg/SVGStopElement.idl
        svg/SVGStringList.idl
        svg/SVGStyleElement.idl
        svg/SVGSwitchElement.idl
        svg/SVGSymbolElement.idl
        svg/SVGTRefElement.idl
        svg/SVGTSpanElement.idl
        svg/SVGTextContentElement.idl
        svg/SVGTextElement.idl
        svg/SVGTextPathElement.idl
        svg/SVGTextPositioningElement.idl
        svg/SVGTitleElement.idl
        svg/SVGTransform.idl
        svg/SVGTransformList.idl
        svg/SVGUnitTypes.idl
        svg/SVGUseElement.idl
        svg/SVGViewElement.idl
        svg/SVGVKernElement.idl
        svg/SVGZoomEvent.idl
    )

    LIST(APPEND WebCore_IDL_FILES
        ${SVG_IDL_FILES}
    )
ENDIF()

SET(WebCore_NO_CPP_IDL_FILES
    dom/CustomEvent.idl
    dom/PopStateEvent.idl
    inspector/ScriptProfile.idl
    inspector/ScriptProfileNode.idl
    storage/Database.idl
    storage/DatabaseCallback.idl
    storage/SQLError.idl
    storage/SQLResultSet.idl
    storage/SQLResultSetRowList.idl
    storage/SQLStatementCallback.idl
    storage/SQLStatementErrorCallback.idl
    storage/SQLTransaction.idl
    storage/SQLTransactionCallback.idl
    storage/SQLTransactionErrorCallback.idl
    storage/SQLTransactionSync.idl
    storage/SQLTransactionSyncCallback.idl
    ${SVG_IDL_FILES}
)

SET(WebCore_SOURCES
    ${DERIVED_SOURCES_DIR}/CSSGrammar.cpp
    ${DERIVED_SOURCES_DIR}/HTMLElementFactory.cpp
    ${DERIVED_SOURCES_DIR}/HTMLEntityNames.c
    ${DERIVED_SOURCES_DIR}/HTMLNames.cpp
    ${DERIVED_SOURCES_DIR}/JSHTMLElementWrapperFactory.cpp
    ${DERIVED_SOURCES_DIR}/UserAgentStyleSheetsData.cpp
    ${DERIVED_SOURCES_DIR}/XMLNames.cpp
    ${DERIVED_SOURCES_DIR}/XMLNSNames.cpp
    ${DERIVED_SOURCES_DIR}/XPathGrammar.cpp

    accessibility/AXObjectCache.cpp
    accessibility/AccessibilityARIAGrid.cpp
    accessibility/AccessibilityARIAGridCell.cpp
    accessibility/AccessibilityARIAGridRow.cpp
    accessibility/AccessibilityImageMapLink.cpp
    accessibility/AccessibilityList.cpp
    accessibility/AccessibilityListBox.cpp
    accessibility/AccessibilityListBoxOption.cpp
    accessibility/AccessibilityMediaControls.cpp
    accessibility/AccessibilityMenuList.cpp
    accessibility/AccessibilityMenuListOption.cpp
    accessibility/AccessibilityMenuListPopup.cpp
    accessibility/AccessibilityObject.cpp
    accessibility/AccessibilityRenderObject.cpp
    accessibility/AccessibilityScrollbar.cpp
    accessibility/AccessibilitySlider.cpp
    accessibility/AccessibilityTable.cpp
    accessibility/AccessibilityTableCell.cpp
    accessibility/AccessibilityTableColumn.cpp
    accessibility/AccessibilityTableHeaderContainer.cpp
    accessibility/AccessibilityTableRow.cpp

    bindings/cpp/WebDOMCString.cpp 
    bindings/cpp/WebDOMDOMWindowCustom.cpp 
    bindings/cpp/WebDOMEventListenerCustom.cpp 
    bindings/cpp/WebDOMEventTarget.cpp 
    bindings/cpp/WebDOMHTMLCollectionCustom.cpp 
    bindings/cpp/WebDOMHTMLDocumentCustom.cpp 
    bindings/cpp/WebDOMHTMLOptionsCollectionCustom.cpp 
    bindings/cpp/WebDOMNodeCustom.cpp 
    bindings/cpp/WebDOMNodeFilterCustom.cpp 
    bindings/cpp/WebDOMString.cpp 
    bindings/cpp/WebExceptionHandler.cpp 
    bindings/cpp/WebNativeEventListener.cpp 
    bindings/cpp/WebNativeNodeFilterCondition.cpp 

    bindings/ScriptControllerBase.cpp

    bindings/js/DOMObjectHashTableMap.cpp
    bindings/js/DOMWrapperWorld.cpp
    bindings/js/GCController.cpp
    bindings/js/JavaScriptCallFrame.cpp
    bindings/js/JSAttrCustom.cpp
    bindings/js/JSCallbackData.cpp
    bindings/js/JSCanvasRenderingContext2DCustom.cpp
    bindings/js/JSCanvasRenderingContextCustom.cpp
    bindings/js/JSCDATASectionCustom.cpp
    bindings/js/JSClipboardCustom.cpp
    bindings/js/JSConsoleCustom.cpp
    bindings/js/JSCoordinatesCustom.cpp
    bindings/js/JSCSSRuleCustom.cpp
    bindings/js/JSCSSRuleListCustom.cpp
    bindings/js/JSCSSStyleDeclarationCustom.cpp
    bindings/js/JSCSSValueCustom.cpp
    bindings/js/JSCustomPositionCallback.cpp
    bindings/js/JSCustomPositionErrorCallback.cpp
    bindings/js/JSCustomSQLStatementErrorCallback.cpp
    bindings/js/JSCustomVoidCallback.cpp
    bindings/js/JSCustomXPathNSResolver.cpp
    bindings/js/JSDatabaseCustom.cpp
    bindings/js/JSDatabaseCustom.cpp
    bindings/js/JSDatabaseSyncCustom.cpp
    bindings/js/JSDataGridColumnListCustom.cpp
    bindings/js/JSDataGridDataSource.cpp
    bindings/js/JSDebugWrapperSet.cpp
    bindings/js/JSDedicatedWorkerContextCustom.cpp
    bindings/js/JSDocumentCustom.cpp
    bindings/js/JSDOMApplicationCacheCustom.cpp
    bindings/js/JSDOMBinding.cpp
    bindings/js/JSDOMFormDataCustom.cpp
    bindings/js/JSDOMGlobalObject.cpp
    bindings/js/JSDOMWindowBase.cpp
    bindings/js/JSDOMWindowCustom.cpp
    bindings/js/JSDOMWindowShell.cpp
    bindings/js/JSDOMWrapper.cpp
    bindings/js/JSElementCustom.cpp
    bindings/js/JSEventCustom.cpp
    bindings/js/JSEventListener.cpp
    bindings/js/JSEventSourceConstructor.cpp
    bindings/js/JSEventTarget.cpp
    bindings/js/JSExceptionBase.cpp
    bindings/js/JSGeolocationCustom.cpp
    bindings/js/JSHistoryCustom.cpp
    bindings/js/JSHTMLAllCollectionCustom.cpp
    bindings/js/JSHTMLAppletElementCustom.cpp
    bindings/js/JSHTMLCanvasElementCustom.cpp
    bindings/js/JSHTMLCollectionCustom.cpp
    bindings/js/JSHTMLDataGridElementCustom.cpp
    bindings/js/JSHTMLDocumentCustom.cpp
    bindings/js/JSHTMLElementCustom.cpp
    bindings/js/JSHTMLEmbedElementCustom.cpp
    bindings/js/JSHTMLFormElementCustom.cpp
    bindings/js/JSHTMLFrameElementCustom.cpp
    bindings/js/JSHTMLFrameSetElementCustom.cpp
    bindings/js/JSHTMLIFrameElementCustom.cpp
    bindings/js/JSHTMLInputElementCustom.cpp
    bindings/js/JSHTMLObjectElementCustom.cpp
    bindings/js/JSHTMLOptionsCollectionCustom.cpp
    bindings/js/JSHTMLSelectElementCustom.cpp
    bindings/js/JSImageConstructor.cpp
    bindings/js/JSImageDataCustom.cpp
    bindings/js/JSInjectedScriptHostCustom.cpp
    bindings/js/JSInspectorFrontendHostCustom.cpp
    bindings/js/JSJavaScriptCallFrameCustom.cpp
    bindings/js/JSLazyEventListener.cpp
    bindings/js/JSLocationCustom.cpp
    bindings/js/JSMainThreadExecState.cpp
    bindings/js/JSMessageChannelConstructor.cpp
    bindings/js/JSMessageChannelCustom.cpp
    bindings/js/JSMessageEventCustom.cpp
    bindings/js/JSMessagePortCustom.cpp
    bindings/js/JSMimeTypeArrayCustom.cpp
    bindings/js/JSNamedNodeMapCustom.cpp
    bindings/js/JSNavigatorCustom.cpp
    bindings/js/JSNodeCustom.cpp
    bindings/js/JSNodeFilterCondition.cpp
    bindings/js/JSNodeFilterCustom.cpp
    bindings/js/JSNodeIteratorCustom.cpp
    bindings/js/JSNodeListCustom.cpp
    bindings/js/JSOptionConstructor.cpp
    bindings/js/JSPluginArrayCustom.cpp
    bindings/js/JSPluginCustom.cpp
    bindings/js/JSPluginElementFunctions.cpp
    bindings/js/JSPopStateEventCustom.cpp
    bindings/js/JSScriptProfileNodeCustom.cpp
    bindings/js/JSSharedWorkerConstructor.cpp
    bindings/js/JSSharedWorkerCustom.cpp
    bindings/js/JSSQLResultSetRowListCustom.cpp
    bindings/js/JSSQLTransactionCustom.cpp
    bindings/js/JSSQLTransactionSyncCustom.cpp
    bindings/js/JSStorageCustom.cpp
    bindings/js/JSStyleSheetCustom.cpp
    bindings/js/JSStyleSheetListCustom.cpp
    bindings/js/JSTextCustom.cpp
    bindings/js/JSTreeWalkerCustom.cpp
    bindings/js/JSWebKitCSSMatrixConstructor.cpp
    bindings/js/JSWebKitPointConstructor.cpp
    bindings/js/JSWorkerConstructor.cpp
    bindings/js/JSWorkerContextBase.cpp
    bindings/js/JSWorkerContextCustom.cpp
    bindings/js/JSWorkerContextErrorHandler.cpp
    bindings/js/JSWorkerCustom.cpp
    bindings/js/JSXMLHttpRequestConstructor.cpp
    bindings/js/JSXMLHttpRequestCustom.cpp
    bindings/js/JSXMLHttpRequestUploadCustom.cpp
    bindings/js/JSXSLTProcessorConstructor.cpp
    bindings/js/JSXSLTProcessorCustom.cpp
    bindings/js/ScheduledAction.cpp
    bindings/js/ScriptArray.cpp
    bindings/js/ScriptCachedFrameData.cpp
    bindings/js/ScriptCallFrame.cpp
    bindings/js/ScriptCallStack.cpp
    bindings/js/ScriptController.cpp
    bindings/js/ScriptControllerEfl.cpp
    bindings/js/ScriptDebugServer.cpp
    bindings/js/ScriptEventListener.cpp
    bindings/js/ScriptFunctionCall.cpp
    bindings/js/ScriptGCEvent.cpp
    bindings/js/ScriptObject.cpp
    bindings/js/ScriptProfiler.cpp
    bindings/js/ScriptState.cpp
    bindings/js/ScriptValue.cpp
    bindings/js/SerializedScriptValue.cpp
    bindings/js/WorkerScriptController.cpp

    bridge/IdentifierRep.cpp
    bridge/NP_jsobject.cpp
    bridge/npruntime.cpp
    bridge/runtime_array.cpp
    bridge/runtime_method.cpp
    bridge/runtime_object.cpp
    bridge/runtime_root.cpp

    bridge/c/CRuntimeObject.cpp
    bridge/c/c_class.cpp
    bridge/c/c_instance.cpp
    bridge/c/c_runtime.cpp
    bridge/c/c_utility.cpp

    bridge/jsc/BridgeJSC.cpp

    css/CSSBorderImageValue.cpp
    css/CSSCanvasValue.cpp
    css/CSSCharsetRule.cpp
    css/CSSComputedStyleDeclaration.cpp
    css/CSSCursorImageValue.cpp
    css/CSSFontFace.cpp
    css/CSSFontFaceRule.cpp
    css/CSSFontFaceSource.cpp
    css/CSSFontFaceSrcValue.cpp
    css/CSSFontSelector.cpp
    css/CSSFunctionValue.cpp
    css/CSSGradientValue.cpp
    css/CSSHelper.cpp
    css/CSSImageGeneratorValue.cpp
    css/CSSImageValue.cpp
    css/CSSImportRule.cpp
    css/CSSInheritedValue.cpp
    css/CSSInitialValue.cpp
    css/CSSMediaRule.cpp
    css/CSSMutableStyleDeclaration.cpp
    css/CSSPageRule.cpp
    css/CSSParser.cpp
    css/CSSParserValues.cpp
    css/CSSPrimitiveValue.cpp
    css/CSSProperty.cpp
    css/CSSPropertyLonghand.cpp
    css/CSSReflectValue.cpp
    css/CSSRule.cpp
    css/CSSRuleList.cpp
    css/CSSSegmentedFontFace.cpp
    css/CSSSelector.cpp
    css/CSSSelectorList.cpp
    css/CSSStyleDeclaration.cpp
    css/CSSStyleRule.cpp
    css/CSSStyleSelector.cpp
    css/CSSStyleSheet.cpp
    css/CSSTimingFunctionValue.cpp
    css/CSSUnicodeRangeValue.cpp
    css/CSSValueList.cpp
    css/CSSVariableDependentValue.cpp
    css/CSSVariablesDeclaration.cpp
    css/CSSVariablesRule.cpp
    css/FontFamilyValue.cpp
    css/FontValue.cpp
    css/MediaFeatureNames.cpp
    css/MediaList.cpp
    css/MediaQuery.cpp
    css/MediaQueryEvaluator.cpp
    css/MediaQueryExp.cpp
    css/RGBColor.cpp
    css/ShadowValue.cpp
    css/StyleBase.cpp
    css/StyleList.cpp
    css/StyleMedia.cpp
    css/StyleSheet.cpp
    css/StyleSheetList.cpp
    css/WebKitCSSKeyframeRule.cpp
    css/WebKitCSSKeyframesRule.cpp
    css/WebKitCSSMatrix.cpp
    css/WebKitCSSTransformValue.cpp

    dom/ActiveDOMObject.cpp
    dom/Attr.cpp
    dom/Attribute.cpp
    dom/BeforeTextInsertedEvent.cpp
    dom/BeforeUnloadEvent.cpp
    dom/CDATASection.cpp
    dom/CSSMappedAttributeDeclaration.cpp
    dom/CanvasSurface.cpp
    dom/CharacterData.cpp
    dom/CheckedRadioButtons.cpp
    dom/ChildNodeList.cpp
    dom/ClassNodeList.cpp
    dom/ClientRect.cpp
    dom/ClientRectList.cpp
    dom/Clipboard.cpp
    dom/ClipboardEvent.cpp
    dom/Comment.cpp
    dom/CompositionEvent.cpp
    dom/ContainerNode.cpp
    dom/CustomEvent.cpp
    dom/DOMImplementation.cpp
    dom/DOMStringList.cpp
    dom/DeviceOrientation.cpp
    dom/DeviceOrientationEvent.cpp
    dom/Document.cpp
    dom/DocumentFragment.cpp
    dom/DocumentType.cpp
    dom/DynamicNodeList.cpp
    dom/EditingText.cpp
    dom/Element.cpp
    dom/Entity.cpp
    dom/EntityReference.cpp
    dom/ErrorEvent.cpp
    dom/Event.cpp
    dom/EventNames.cpp
    dom/EventTarget.cpp
    dom/ExceptionBase.cpp
    dom/ExceptionCode.cpp
    dom/InputElement.cpp
    dom/KeyboardEvent.cpp
    dom/MessageChannel.cpp
    dom/MessageEvent.cpp
    dom/MessagePort.cpp
    dom/MessagePortChannel.cpp
    dom/MouseEvent.cpp
    dom/MouseRelatedEvent.cpp
    dom/MutationEvent.cpp
    dom/NameNodeList.cpp
    dom/NamedNodeMap.cpp
    dom/Node.cpp
    dom/NodeFilter.cpp
    dom/NodeFilterCondition.cpp
    dom/NodeIterator.cpp
    dom/Notation.cpp
    dom/OptionElement.cpp
    dom/OptionGroupElement.cpp
    dom/OverflowEvent.cpp
    dom/PageTransitionEvent.cpp
    dom/PopStateEvent.cpp
    dom/Position.cpp
    dom/PositionIterator.cpp
    dom/ProcessingInstruction.cpp
    dom/ProgressEvent.cpp
    dom/QualifiedName.cpp
    dom/Range.cpp
    dom/RegisteredEventListener.cpp
    dom/ScriptElement.cpp
    dom/ScriptExecutionContext.cpp
    dom/SelectElement.cpp
    dom/SelectorNodeList.cpp
    dom/SpaceSplitString.cpp
    dom/StaticNodeList.cpp
    dom/StyleElement.cpp
    dom/StyledElement.cpp
    dom/TagNodeList.cpp
    dom/Text.cpp
    dom/TextEvent.cpp
    dom/TransformSourceLibxslt.cpp
    dom/Traversal.cpp
    dom/TreeWalker.cpp
    dom/UIEvent.cpp
    dom/UIEventWithKeyState.cpp
    dom/UserGestureIndicator.cpp
    dom/ViewportArguments.cpp
    dom/WebKitAnimationEvent.cpp
    dom/WebKitTransitionEvent.cpp
    dom/WheelEvent.cpp
    dom/XMLTokenizer.cpp
    dom/XMLTokenizerLibxml2.cpp
    dom/XMLTokenizerScope.cpp

    dom/default/PlatformMessagePortChannel.cpp

    editing/AppendNodeCommand.cpp
    editing/ApplyStyleCommand.cpp
    editing/BreakBlockquoteCommand.cpp
    editing/CompositeEditCommand.cpp
    editing/CreateLinkCommand.cpp
    editing/DeleteButton.cpp
    editing/DeleteButtonController.cpp
    editing/DeleteFromTextNodeCommand.cpp
    editing/DeleteSelectionCommand.cpp
    editing/EditCommand.cpp
    editing/Editor.cpp
    editing/EditorCommand.cpp
    editing/FormatBlockCommand.cpp
    editing/HTMLInterchange.cpp
    editing/IndentOutdentCommand.cpp
    editing/InsertIntoTextNodeCommand.cpp
    editing/InsertLineBreakCommand.cpp
    editing/InsertListCommand.cpp
    editing/InsertNodeBeforeCommand.cpp
    editing/InsertParagraphSeparatorCommand.cpp
    editing/InsertTextCommand.cpp
    editing/JoinTextNodesCommand.cpp
    editing/MergeIdenticalElementsCommand.cpp
    editing/ModifySelectionListLevel.cpp
    editing/MoveSelectionCommand.cpp
    editing/RemoveCSSPropertyCommand.cpp
    editing/RemoveFormatCommand.cpp
    editing/RemoveNodeCommand.cpp
    editing/RemoveNodePreservingChildrenCommand.cpp
    editing/ReplaceNodeWithSpanCommand.cpp
    editing/ReplaceSelectionCommand.cpp
    editing/SelectionController.cpp
    editing/SetNodeAttributeCommand.cpp
    editing/SmartReplaceICU.cpp
    editing/SplitElementCommand.cpp
    editing/SplitTextNodeCommand.cpp
    editing/SplitTextNodeContainingElementCommand.cpp
    editing/TextIterator.cpp
    editing/TypingCommand.cpp
    editing/UnlinkCommand.cpp
    editing/VisiblePosition.cpp
    editing/VisibleSelection.cpp
    editing/WrapContentsInDummySpanCommand.cpp
    editing/htmlediting.cpp
    editing/markup.cpp
    editing/visible_units.cpp

    history/BackForwardList.cpp
    history/CachedFrame.cpp
    history/CachedPage.cpp
    history/HistoryItem.cpp
    history/PageCache.cpp

    html/Blob.cpp
    html/CollectionCache.cpp
    html/DOMDataGridDataSource.cpp
    html/DOMFormData.cpp
    html/DataGridColumn.cpp
    html/DataGridColumnList.cpp
    html/DateComponents.cpp
    html/File.cpp
    html/FileList.cpp
    html/FormDataList.cpp
    html/HTML5Lexer.cpp
    html/HTML5Tokenizer.cpp
    html/HTML5TreeBuilder.cpp
    html/HTMLAllCollection.cpp
    html/HTMLAnchorElement.cpp
    html/HTMLAppletElement.cpp
    html/HTMLAreaElement.cpp
    html/HTMLBRElement.cpp
    html/HTMLBaseElement.cpp
    html/HTMLBaseFontElement.cpp
    html/HTMLBlockquoteElement.cpp
    html/HTMLBodyElement.cpp
    html/HTMLButtonElement.cpp
    html/HTMLCanvasElement.cpp
    html/HTMLCollection.cpp
    html/HTMLDListElement.cpp
    html/HTMLDataGridCellElement.cpp
    html/HTMLDataGridColElement.cpp
    html/HTMLDataGridElement.cpp
    html/HTMLDataGridRowElement.cpp
    html/HTMLDataListElement.cpp
    html/HTMLDirectoryElement.cpp
    html/HTMLDivElement.cpp
    html/HTMLDocument.cpp
    html/HTMLElement.cpp
    html/HTMLEmbedElement.cpp
    html/HTMLFieldSetElement.cpp
    html/HTMLFontElement.cpp
    html/HTMLFormCollection.cpp
    html/HTMLFormControlElement.cpp
    html/HTMLFormElement.cpp
    html/HTMLFrameElement.cpp
    html/HTMLFrameElementBase.cpp
    html/HTMLFrameOwnerElement.cpp
    html/HTMLFrameSetElement.cpp
    html/HTMLHRElement.cpp
    html/HTMLHeadElement.cpp
    html/HTMLHeadingElement.cpp
    html/HTMLHtmlElement.cpp
    html/HTMLIFrameElement.cpp
    html/HTMLImageElement.cpp
    html/HTMLImageLoader.cpp
    html/HTMLInputElement.cpp
    html/HTMLIsIndexElement.cpp
    html/HTMLKeygenElement.cpp
    html/HTMLLIElement.cpp
    html/HTMLLabelElement.cpp
    html/HTMLLegendElement.cpp
    html/HTMLLinkElement.cpp
    html/HTMLMapElement.cpp
    html/HTMLMarqueeElement.cpp
    html/HTMLMenuElement.cpp
    html/HTMLMetaElement.cpp
    html/HTMLMeterElement.cpp
    html/HTMLModElement.cpp
    html/HTMLNameCollection.cpp
    html/HTMLOListElement.cpp
    html/HTMLObjectElement.cpp
    html/HTMLOptGroupElement.cpp
    html/HTMLOptionElement.cpp
    html/HTMLOptionsCollection.cpp
    html/HTMLParagraphElement.cpp
    html/HTMLParamElement.cpp
    html/HTMLParser.cpp
    html/HTMLParserErrorCodes.cpp
    html/HTMLPlugInElement.cpp
    html/HTMLPlugInImageElement.cpp
    html/HTMLPreElement.cpp
    html/HTMLProgressElement.cpp
    html/HTMLQuoteElement.cpp
    html/HTMLScriptElement.cpp
    html/HTMLSelectElement.cpp
    html/HTMLStyleElement.cpp
    html/HTMLTableCaptionElement.cpp
    html/HTMLTableCellElement.cpp
    html/HTMLTableColElement.cpp
    html/HTMLTableElement.cpp
    html/HTMLTablePartElement.cpp
    html/HTMLTableRowElement.cpp
    html/HTMLTableRowsCollection.cpp
    html/HTMLTableSectionElement.cpp
    html/HTMLTextAreaElement.cpp
    html/HTMLTitleElement.cpp
    html/HTMLTokenizer.cpp
    html/HTMLUListElement.cpp
    html/HTMLViewSourceDocument.cpp
    html/ImageData.cpp
    html/LabelsNodeList.cpp
    html/PreloadScanner.cpp
    html/StepRange.cpp
    html/ValidityState.cpp
    html/canvas/CanvasGradient.cpp
    html/canvas/CanvasPattern.cpp
    html/canvas/CanvasPixelArray.cpp
    html/canvas/CanvasRenderingContext.cpp
    html/canvas/CanvasRenderingContext2D.cpp
    html/canvas/CanvasStyle.cpp

    inspector/ConsoleMessage.cpp
    inspector/InjectedScript.cpp
    inspector/InjectedScriptHost.cpp
    inspector/InspectorBackend.cpp
    inspector/InspectorCSSStore.cpp
    inspector/InspectorController.cpp
    inspector/InspectorDOMAgent.cpp
    inspector/InspectorDOMStorageResource.cpp
    inspector/InspectorDatabaseResource.cpp
    inspector/InspectorFrontend.cpp
    inspector/InspectorFrontendClientLocal.cpp
    inspector/InspectorFrontendHost.cpp
    inspector/InspectorResource.cpp
    inspector/InspectorTimelineAgent.cpp
    inspector/TimelineRecordFactory.cpp

    loader/Cache.cpp
    loader/CachedCSSStyleSheet.cpp
    loader/CachedFont.cpp
    loader/CachedImage.cpp
    loader/CachedResource.cpp
    loader/CachedResourceClientWalker.cpp
    loader/CachedResourceHandle.cpp
    loader/CachedScript.cpp
    loader/CachedXSLStyleSheet.cpp
    loader/CrossOriginAccessControl.cpp
    loader/CrossOriginPreflightResultCache.cpp
    loader/DocLoader.cpp
    loader/DocumentLoader.cpp
    loader/DocumentThreadableLoader.cpp
    loader/DocumentWriter.cpp
    loader/FTPDirectoryDocument.cpp
    loader/FTPDirectoryParser.cpp
    loader/FormState.cpp
    loader/FrameLoader.cpp
    loader/HistoryController.cpp
    loader/ImageDocument.cpp
    loader/ImageLoader.cpp
    loader/MainResourceLoader.cpp
    loader/MediaDocument.cpp
    loader/NavigationAction.cpp
    loader/NetscapePlugInStreamLoader.cpp
    loader/PlaceholderDocument.cpp
    loader/PluginDocument.cpp
    loader/PolicyCallback.cpp
    loader/PolicyChecker.cpp
    loader/ProgressTracker.cpp
    loader/RedirectScheduler.cpp
    loader/Request.cpp
    loader/ResourceLoadNotifier.cpp
    loader/ResourceLoader.cpp
    loader/SinkDocument.cpp
    loader/SubresourceLoader.cpp
    loader/TextDocument.cpp
    loader/TextResourceDecoder.cpp
    loader/ThreadableLoader.cpp
    loader/WorkerThreadableLoader.cpp

    loader/appcache/ApplicationCache.cpp
    loader/appcache/ApplicationCacheGroup.cpp
    loader/appcache/ApplicationCacheHost.cpp
    loader/appcache/ApplicationCacheResource.cpp
    loader/appcache/ApplicationCacheStorage.cpp
    loader/appcache/ApplicationCacheStorageManager.cpp
    loader/appcache/DOMApplicationCache.cpp
    loader/appcache/ManifestParser.cpp

    loader/archive/ArchiveFactory.cpp
    loader/archive/ArchiveResource.cpp
    loader/archive/ArchiveResourceCollection.cpp

    loader/icon/IconDatabase.cpp
    loader/icon/IconLoader.cpp
    loader/icon/IconRecord.cpp
    loader/icon/PageURLRecord.cpp
    loader/loader.cpp

    page/BarInfo.cpp
    page/Chrome.cpp
    page/Console.cpp
    page/ContextMenuController.cpp
    page/DOMSelection.cpp
    page/DOMTimer.cpp
    page/DOMWindow.cpp
    page/DragController.cpp
    page/EventHandler.cpp
    page/EventSource.cpp
    page/FocusController.cpp
    page/Frame.cpp
    page/FrameTree.cpp
    page/FrameView.cpp
    page/Geolocation.cpp
    page/GeolocationController.cpp
    page/GeolocationPositionCache.cpp
    page/History.cpp
    page/Location.cpp
    page/MouseEventWithHitTestResults.cpp
    page/Navigator.cpp
    page/NavigatorBase.cpp
    page/OriginAccessEntry.cpp
    page/Page.cpp
    page/PageGroup.cpp
    page/PageGroupLoadDeferrer.cpp
    page/PluginHalter.cpp
    page/PrintContext.cpp
    page/Screen.cpp
    page/SecurityOrigin.cpp
    page/Settings.cpp
    page/SpatialNavigation.cpp
    page/SuspendableTimer.cpp
    page/UserContentURLPattern.cpp
    page/WindowFeatures.cpp
    page/WorkerNavigator.cpp
    page/XSSAuditor.cpp

    page/animation/AnimationBase.cpp
    page/animation/AnimationController.cpp
    page/animation/CompositeAnimation.cpp
    page/animation/ImplicitAnimation.cpp
    page/animation/KeyframeAnimation.cpp

    platform/Arena.cpp
    platform/ContentType.cpp
    platform/ContextMenu.cpp
    platform/CrossThreadCopier.cpp
    platform/DeprecatedPtrListImpl.cpp
    platform/DragData.cpp
    platform/DragImage.cpp
    platform/FileChooser.cpp
    platform/GeolocationService.cpp
    platform/KURL.cpp
    platform/Length.cpp
    platform/LinkHash.cpp
    platform/Logging.cpp
    platform/MIMETypeRegistry.cpp
    platform/Scrollbar.cpp
    platform/ScrollbarThemeComposite.cpp
    platform/ScrollView.cpp
    platform/SharedBuffer.cpp
    platform/StringPattern.cpp
    platform/ThreadGlobalData.cpp
    platform/ThreadTimers.cpp
    platform/Timer.cpp
    platform/UUID.cpp
    platform/Widget.cpp

    platform/animation/Animation.cpp
    platform/animation/AnimationList.cpp

    platform/graphics/BitmapImage.cpp
    platform/graphics/Color.cpp
    platform/graphics/FloatPoint.cpp
    platform/graphics/FloatPoint3D.cpp
    platform/graphics/FloatQuad.cpp
    platform/graphics/FloatRect.cpp
    platform/graphics/FloatSize.cpp
    platform/graphics/Font.cpp
    platform/graphics/FontCache.cpp
    platform/graphics/FontData.cpp
    platform/graphics/FontDescription.cpp
    platform/graphics/FontFallbackList.cpp
    platform/graphics/FontFamily.cpp
    platform/graphics/FontFastPath.cpp
    platform/graphics/GeneratedImage.cpp
    platform/graphics/GlyphPageTreeNode.cpp
    platform/graphics/Gradient.cpp
    platform/graphics/GraphicsContext.cpp
    platform/graphics/GraphicsTypes.cpp
    platform/graphics/Image.cpp
    platform/graphics/ImageBuffer.cpp
    platform/graphics/ImageSource.cpp
    platform/graphics/IntRect.cpp
    platform/graphics/IntRectRegion.cpp
    platform/graphics/Path.cpp
    platform/graphics/PathTraversalState.cpp
    platform/graphics/Pattern.cpp
    platform/graphics/Pen.cpp
    platform/graphics/SegmentedFontData.cpp
    platform/graphics/SimpleFontData.cpp
    platform/graphics/StringTruncator.cpp
#    platform/graphics/WidthIterator.cpp

    platform/graphics/filters/FEBlend.cpp
    platform/graphics/filters/FEColorMatrix.cpp
    platform/graphics/filters/FEComponentTransfer.cpp
    platform/graphics/filters/FEComposite.cpp
    platform/graphics/filters/FEGaussianBlur.cpp
    platform/graphics/filters/FilterEffect.cpp
    platform/graphics/filters/ImageBufferFilter.cpp
    platform/graphics/filters/SourceAlpha.cpp
    platform/graphics/filters/SourceGraphic.cpp

    platform/graphics/transforms/AffineTransform.cpp
    platform/graphics/transforms/Matrix3DTransformOperation.cpp
    platform/graphics/transforms/MatrixTransformOperation.cpp
    platform/graphics/transforms/PerspectiveTransformOperation.cpp
    platform/graphics/transforms/RotateTransformOperation.cpp
    platform/graphics/transforms/ScaleTransformOperation.cpp
    platform/graphics/transforms/SkewTransformOperation.cpp
    platform/graphics/transforms/TransformOperations.cpp
    platform/graphics/transforms/TransformationMatrix.cpp
    platform/graphics/transforms/TranslateTransformOperation.cpp

    platform/image-decoders/ImageDecoder.cpp
    platform/image-decoders/bmp/BMPImageDecoder.cpp
    platform/image-decoders/bmp/BMPImageReader.cpp
    platform/image-decoders/gif/GIFImageDecoder.cpp
    platform/image-decoders/gif/GIFImageReader.cpp
    platform/image-decoders/ico/ICOImageDecoder.cpp
    platform/image-decoders/jpeg/JPEGImageDecoder.cpp
    platform/image-decoders/png/PNGImageDecoder.cpp
    
    platform/image-encoders/JPEGImageEncoder.cpp
    platform/image-encoders/PNGImageEncoder.cpp

    platform/mock/GeolocationServiceMock.cpp

    platform/network/AuthenticationChallengeBase.cpp
    platform/network/Credential.cpp
    platform/network/FormData.cpp
    platform/network/FormDataBuilder.cpp
    platform/network/HTTPHeaderMap.cpp
    platform/network/HTTPParsers.cpp
    platform/network/NetworkStateNotifier.cpp
    platform/network/ProtectionSpace.cpp
    platform/network/ResourceErrorBase.cpp
    platform/network/ResourceHandle.cpp
    platform/network/ResourceRequestBase.cpp
    platform/network/ResourceResponseBase.cpp

    platform/sql/SQLValue.cpp
    platform/sql/SQLiteAuthorizer.cpp
    platform/sql/SQLiteDatabase.cpp
    platform/sql/SQLiteFileSystem.cpp
    platform/sql/SQLiteStatement.cpp
    platform/sql/SQLiteTransaction.cpp

    platform/text/Base64.cpp
    platform/text/BidiContext.cpp
    platform/text/RegularExpression.cpp
    platform/text/SegmentedString.cpp
    platform/text/String.cpp
    platform/text/StringBuilder.cpp
    platform/text/TextBoundaries.cpp
    platform/text/TextCodec.cpp
    platform/text/TextCodecLatin1.cpp
    platform/text/TextCodecUTF16.cpp
    platform/text/TextCodecUserDefined.cpp
    platform/text/TextEncoding.cpp
    platform/text/TextEncodingRegistry.cpp
    platform/text/TextStream.cpp
    platform/text/UnicodeRange.cpp

    platform/text/transcoder/FontTranscoder.cpp

    plugins/MimeTypeArray.cpp
    plugins/MimeType.cpp
    plugins/PluginArray.cpp
    plugins/Plugin.cpp
    plugins/PluginData.cpp
    plugins/PluginMainThreadScheduler.cpp
    plugins/PluginViewNone.cpp
    plugins/PluginDatabase.cpp
    plugins/PluginStream.cpp
    plugins/PluginDebug.cpp

    rendering/AutoTableLayout.cpp
    rendering/BidiRun.cpp
    rendering/CounterNode.cpp
    rendering/EllipsisBox.cpp
    rendering/FixedTableLayout.cpp
    rendering/HitTestResult.cpp
    rendering/InlineBox.cpp
    rendering/InlineFlowBox.cpp
    rendering/InlineTextBox.cpp
    rendering/LayoutState.cpp
    rendering/RenderApplet.cpp
    rendering/RenderArena.cpp
    rendering/RenderBR.cpp
    rendering/RenderBlock.cpp
    rendering/RenderBlockLineLayout.cpp
    rendering/RenderBox.cpp
    rendering/RenderBoxModelObject.cpp
    rendering/RenderButton.cpp
    rendering/RenderCounter.cpp
    rendering/RenderDataGrid.cpp
    rendering/RenderEmbeddedObject.cpp
    rendering/RenderFieldset.cpp
    rendering/RenderFileUploadControl.cpp
    rendering/RenderFlexibleBox.cpp
    rendering/RenderFrame.cpp
    rendering/RenderFrameBase.cpp
    rendering/RenderFrameSet.cpp
    rendering/RenderHTMLCanvas.cpp
    rendering/RenderIFrame.cpp
    rendering/RenderImage.cpp
    rendering/RenderImageGeneratedContent.cpp
    rendering/RenderInline.cpp
    rendering/RenderLayer.cpp
    rendering/RenderLineBoxList.cpp
    rendering/RenderListBox.cpp
    rendering/RenderListItem.cpp
    rendering/RenderListMarker.cpp
    rendering/RenderMarquee.cpp
    rendering/RenderMenuList.cpp
    rendering/RenderMeter.cpp
    rendering/RenderObject.cpp
    rendering/RenderObjectChildList.cpp
    rendering/RenderPart.cpp
    rendering/RenderProgress.cpp
    rendering/RenderReplaced.cpp
    rendering/RenderReplica.cpp
    rendering/RenderRuby.cpp
    rendering/RenderRubyBase.cpp
    rendering/RenderRubyRun.cpp
    rendering/RenderRubyText.cpp
    rendering/RenderScrollbar.cpp
    rendering/RenderScrollbarPart.cpp
    rendering/RenderScrollbarTheme.cpp
    rendering/RenderSlider.cpp
    rendering/RenderTable.cpp
    rendering/RenderTableCell.cpp
    rendering/RenderTableCol.cpp
    rendering/RenderTableRow.cpp
    rendering/RenderTableSection.cpp
    rendering/RenderText.cpp
    rendering/RenderTextControl.cpp
    rendering/RenderTextControlMultiLine.cpp
    rendering/RenderTextControlSingleLine.cpp
    rendering/RenderTextFragment.cpp
    rendering/RenderTheme.cpp
    rendering/RenderTreeAsText.cpp
    rendering/RenderView.cpp
    rendering/RenderWidget.cpp
    rendering/RenderWordBreak.cpp
    rendering/RootInlineBox.cpp
    rendering/ScrollBehavior.cpp
    rendering/TextControlInnerElements.cpp
    rendering/TransformState.cpp
    rendering/break_lines.cpp
    rendering/style/BindingURI.cpp
    rendering/style/ContentData.cpp
    rendering/style/CounterDirectives.cpp
    rendering/style/FillLayer.cpp
    rendering/style/KeyframeList.cpp
    rendering/style/NinePieceImage.cpp
    rendering/style/RenderStyle.cpp
    rendering/style/ShadowData.cpp
    rendering/style/StyleBackgroundData.cpp
    rendering/style/StyleBoxData.cpp
    rendering/style/StyleCachedImage.cpp
    rendering/style/StyleFlexibleBoxData.cpp
    rendering/style/StyleGeneratedImage.cpp
    rendering/style/StyleInheritedData.cpp
    rendering/style/StyleMarqueeData.cpp
    rendering/style/StyleMultiColData.cpp
    rendering/style/StyleRareInheritedData.cpp
    rendering/style/StyleRareNonInheritedData.cpp
    rendering/style/StyleSurroundData.cpp
    rendering/style/StyleTransformData.cpp
    rendering/style/StyleVisualData.cpp

    storage/AbstractDatabase.cpp
    storage/ChangeVersionWrapper.cpp
    storage/Database.cpp
    storage/DatabaseAuthorizer.cpp
    storage/DatabaseSync.cpp
    storage/DatabaseTask.cpp
    storage/DatabaseThread.cpp
    storage/DatabaseTracker.cpp
    storage/DatabaseTrackerManager.cpp
    storage/IDBAny.cpp
#    storage/IDBDatabase.cpp
    storage/IDBDatabaseRequest.cpp
    storage/IDBErrorEvent.cpp
    storage/IDBEvent.cpp
    storage/IDBRequest.cpp
    storage/IDBObjectStore.cpp
    storage/IDBObjectStoreRequest.cpp
    storage/IDBSuccessEvent.cpp
    storage/IndexedDatabase.cpp
    storage/IndexedDatabaseImpl.cpp
    storage/IndexedDatabaseRequest.cpp
    storage/LocalStorageTask.cpp
    storage/LocalStorageThread.cpp
    storage/OriginQuotaManager.cpp
    storage/OriginUsageRecord.cpp
    storage/SQLResultSet.cpp
    storage/SQLResultSetRowList.cpp
    storage/SQLStatement.cpp
    storage/SQLTransaction.cpp
    storage/SQLTransactionClient.cpp
    storage/SQLTransactionCoordinator.cpp
    storage/SQLTransactionSync.cpp
    storage/Storage.cpp
    storage/StorageAreaImpl.cpp
    storage/StorageAreaSync.cpp
    storage/StorageEvent.cpp
    storage/StorageEventDispatcher.cpp
    storage/StorageMap.cpp
    storage/StorageNamespace.cpp
    storage/StorageNamespaceImpl.cpp
    storage/StorageSyncManager.cpp

    workers/AbstractWorker.cpp
    workers/DedicatedWorkerContext.cpp
    workers/DedicatedWorkerThread.cpp
    workers/DefaultSharedWorkerRepository.cpp
    workers/SharedWorker.cpp
    workers/SharedWorkerContext.cpp
    workers/SharedWorkerThread.cpp
    workers/Worker.cpp
    workers/WorkerContext.cpp
    workers/WorkerLocation.cpp
    workers/WorkerMessagingProxy.cpp
    workers/WorkerRunLoop.cpp
    workers/WorkerScriptLoader.cpp
    workers/WorkerThread.cpp

    xml/DOMParser.cpp
    xml/NativeXPathNSResolver.cpp
    xml/XMLHttpRequest.cpp
    xml/XMLHttpRequestProgressEventThrottle.cpp
    xml/XMLHttpRequestUpload.cpp
    xml/XMLSerializer.cpp
    xml/XPathEvaluator.cpp
    xml/XPathExpression.cpp
    xml/XPathExpressionNode.cpp
    xml/XPathFunctions.cpp
    xml/XPathNSResolver.cpp
    xml/XPathNamespace.cpp
    xml/XPathNodeSet.cpp
    xml/XPathParser.cpp
    xml/XPathPath.cpp
    xml/XPathPredicate.cpp
    xml/XPathResult.cpp
    xml/XPathStep.cpp
    xml/XPathUtil.cpp
    xml/XPathValue.cpp
    xml/XPathVariableReference.cpp
    xml/XSLImportRule.cpp
    xml/XSLStyleSheetLibxslt.cpp
    xml/XSLTExtensions.cpp
    xml/XSLTProcessor.cpp
    xml/XSLTProcessorLibxslt.cpp
    xml/XSLTUnicodeSort.cpp
)

#if (APPLE OR CMAKE_SYSTEM_NAME MATCHES "Darwin")
#    list(APPEND WebCore_SOURCES
#        platform/mac/PurgeableBufferMac.cpp
#    )
#endif ()

IF (ENABLE_NETSCAPE_PLUGIN_API)
    LIST(APPEND WebCore_SOUCES
        plugins/npapi.cpp
    )
ENDIF()

IF (ENABLE_VIDEO)
    LIST(APPEND WebCore_SOURCES
        bindings/js/JSAudioConstructor.cpp
        
        html/HTMLAudioElement.cpp
        html/HTMLMediaElement.cpp
        html/HTMLSourceElement.cpp
        html/HTMLVideoElement.cpp
        html/TimeRanges.cpp
	
        platform/graphics/blackberry/MediaPlayerPrivateBlackBerry.cpp
        platform/graphics/blackberry/MediaPlayerProxy.cpp
        platform/graphics/MediaPlayer.cpp

        rendering/MediaControlElements.cpp
        rendering/RenderMedia.cpp
        rendering/RenderVideo.cpp
        )
ENDIF()

IF (ENABLE_SVG)
    LIST(APPEND WebCore_SOURCES
        ${DERIVED_SOURCES_DIR}/JSSVGElementWrapperFactory.cpp
        ${DERIVED_SOURCES_DIR}/SVGElementFactory.cpp
        ${DERIVED_SOURCES_DIR}/SVGNames.cpp
        ${DERIVED_SOURCES_DIR}/XLinkNames.cpp
        bindings/js/JSSVGElementInstanceCustom.cpp
        bindings/js/JSSVGLengthCustom.cpp
        bindings/js/JSSVGMatrixCustom.cpp
        bindings/js/JSSVGPathSegCustom.cpp
        bindings/js/JSSVGPathSegListCustom.cpp
        css/SVGCSSComputedStyleDeclaration.cpp
        css/SVGCSSParser.cpp
        css/SVGCSSStyleSelector.cpp
        rendering/PointerEventsHitRules.cpp
        rendering/RenderForeignObject.cpp
        rendering/RenderPath.cpp
        rendering/RenderSVGBlock.cpp
        rendering/RenderSVGContainer.cpp
        rendering/RenderSVGGradientStop.cpp
        rendering/RenderSVGHiddenContainer.cpp
        rendering/RenderSVGImage.cpp
        rendering/RenderSVGInline.cpp
        rendering/RenderSVGInlineText.cpp
        rendering/RenderSVGModelObject.cpp
        rendering/RenderSVGResource.cpp
        rendering/RenderSVGResourceClipper.cpp
        rendering/RenderSVGResourceFilter.cpp
        rendering/RenderSVGResourceGradient.cpp
        rendering/RenderSVGResourceLinearGradient.cpp
        rendering/RenderSVGResourceMarker.cpp
        rendering/RenderSVGResourceMasker.cpp
        rendering/RenderSVGResourcePattern.cpp
        rendering/RenderSVGResourceRadialGradient.cpp
        rendering/RenderSVGResourceSolidColor.cpp
        rendering/RenderSVGRoot.cpp
        rendering/RenderSVGShadowTreeRootContainer.cpp
        rendering/RenderSVGTSpan.cpp
        rendering/RenderSVGText.cpp
        rendering/RenderSVGTextPath.cpp
        rendering/RenderSVGTransformableContainer.cpp
        rendering/RenderSVGViewportContainer.cpp
        rendering/SVGCharacterData.cpp
        rendering/SVGCharacterLayoutInfo.cpp
        rendering/SVGInlineFlowBox.cpp
        rendering/SVGInlineTextBox.cpp
        rendering/SVGMarkerLayoutInfo.cpp
        rendering/SVGRenderSupport.cpp
        rendering/SVGRenderTreeAsText.cpp
        rendering/SVGRootInlineBox.cpp
        rendering/SVGShadowTreeElements.cpp
        rendering/SVGTextLayoutUtilities.cpp
        rendering/style/SVGRenderStyle.cpp
        rendering/style/SVGRenderStyleDefs.cpp
        svg/ColorDistance.cpp
        svg/SVGAElement.cpp
        svg/SVGAltGlyphElement.cpp
        svg/SVGAngle.cpp
        svg/SVGAnimateColorElement.cpp
        svg/SVGAnimateElement.cpp
        svg/SVGAnimateMotionElement.cpp
        svg/SVGAnimateTransformElement.cpp
        svg/SVGAnimatedPathData.cpp
        svg/SVGAnimatedPoints.cpp
        svg/SVGAnimationElement.cpp
        svg/SVGCircleElement.cpp
        svg/SVGClipPathElement.cpp
        svg/SVGColor.cpp
        svg/SVGComponentTransferFunctionElement.cpp
        svg/SVGCursorElement.cpp
        svg/SVGDefsElement.cpp
        svg/SVGDescElement.cpp
        svg/SVGDocument.cpp
        svg/SVGDocumentExtensions.cpp
        svg/SVGElement.cpp
        svg/SVGElementInstance.cpp
        svg/SVGElementInstanceList.cpp
        svg/SVGEllipseElement.cpp
        svg/SVGExternalResourcesRequired.cpp
        svg/SVGFEBlendElement.cpp
        svg/SVGFEColorMatrixElement.cpp
        svg/SVGFEComponentTransferElement.cpp
        svg/SVGFECompositeElement.cpp
        svg/SVGFEDiffuseLightingElement.cpp
        svg/SVGFEDisplacementMapElement.cpp
        svg/SVGFEDistantLightElement.cpp
        svg/SVGFEFloodElement.cpp
        svg/SVGFEFuncAElement.cpp
        svg/SVGFEFuncBElement.cpp
        svg/SVGFEFuncGElement.cpp
        svg/SVGFEFuncRElement.cpp
        svg/SVGFEGaussianBlurElement.cpp
        svg/SVGFEImageElement.cpp
        svg/SVGFELightElement.cpp
        svg/SVGFEMergeElement.cpp
        svg/SVGFEMergeNodeElement.cpp
        svg/SVGFEMorphologyElement.cpp
        svg/SVGFEOffsetElement.cpp
        svg/SVGFEPointLightElement.cpp
        svg/SVGFESpecularLightingElement.cpp
        svg/SVGFESpotLightElement.cpp
        svg/SVGFETileElement.cpp
        svg/SVGFETurbulenceElement.cpp
        svg/SVGFilterElement.cpp
        svg/SVGFilterPrimitiveStandardAttributes.cpp
        svg/SVGFitToViewBox.cpp
        svg/SVGFont.cpp
        svg/SVGFontData.cpp
        svg/SVGFontElement.cpp
        svg/SVGFontFaceElement.cpp
        svg/SVGFontFaceFormatElement.cpp
        svg/SVGFontFaceNameElement.cpp
        svg/SVGFontFaceSrcElement.cpp
        svg/SVGFontFaceUriElement.cpp
        svg/SVGForeignObjectElement.cpp
        svg/SVGGElement.cpp
        svg/SVGGlyphElement.cpp
        svg/SVGGradientElement.cpp
        svg/SVGHKernElement.cpp
        svg/SVGImageElement.cpp
        svg/SVGImageLoader.cpp
        svg/SVGLangSpace.cpp
        svg/SVGLength.cpp
        svg/SVGLengthList.cpp
        svg/SVGLineElement.cpp
        svg/SVGLinearGradientElement.cpp
        svg/SVGLocatable.cpp
        svg/SVGMPathElement.cpp
        svg/SVGMarkerElement.cpp
        svg/SVGMaskElement.cpp
        svg/SVGMetadataElement.cpp
        svg/SVGMissingGlyphElement.cpp
        svg/SVGNumberList.cpp
        svg/SVGPaint.cpp
        svg/SVGParserUtilities.cpp
        svg/SVGPathElement.cpp
        svg/SVGPathSegArc.cpp
        svg/SVGPathSegClosePath.cpp
        svg/SVGPathSegCurvetoCubic.cpp
        svg/SVGPathSegCurvetoCubicSmooth.cpp
        svg/SVGPathSegCurvetoQuadratic.cpp
        svg/SVGPathSegCurvetoQuadraticSmooth.cpp
        svg/SVGPathSegLineto.cpp
        svg/SVGPathSegLinetoHorizontal.cpp
        svg/SVGPathSegLinetoVertical.cpp
        svg/SVGPathSegList.cpp
        svg/SVGPathSegMoveto.cpp
        svg/SVGPatternElement.cpp
        svg/SVGPointList.cpp
        svg/SVGPolyElement.cpp
        svg/SVGPolygonElement.cpp
        svg/SVGPolylineElement.cpp
        svg/SVGPreserveAspectRatio.cpp
        svg/SVGRadialGradientElement.cpp
        svg/SVGRectElement.cpp
        svg/SVGSVGElement.cpp
        svg/SVGScriptElement.cpp
        svg/SVGSetElement.cpp
        svg/SVGStopElement.cpp
        svg/SVGStringList.cpp
        svg/SVGStylable.cpp
        svg/SVGStyleElement.cpp
        svg/SVGStyledElement.cpp
        svg/SVGStyledLocatableElement.cpp
        svg/SVGStyledTransformableElement.cpp
        svg/SVGSwitchElement.cpp
        svg/SVGSymbolElement.cpp
        svg/SVGTRefElement.cpp
        svg/SVGTSpanElement.cpp
        svg/SVGTests.cpp
        svg/SVGTextContentElement.cpp
        svg/SVGTextElement.cpp
        svg/SVGTextPathElement.cpp
        svg/SVGTextPositioningElement.cpp
        svg/SVGTitleElement.cpp
        svg/SVGTransform.cpp
        svg/SVGTransformDistance.cpp
        svg/SVGTransformList.cpp
        svg/SVGTransformable.cpp
        svg/SVGURIReference.cpp
        svg/SVGUseElement.cpp
        svg/SVGViewElement.cpp
        svg/SVGVKernElement.cpp
        svg/SVGViewSpec.cpp
        svg/SVGZoomAndPan.cpp
        svg/SVGZoomEvent.cpp
        svg/animation/SMILTime.cpp
        svg/animation/SMILTimeContainer.cpp
        svg/animation/SVGSMILElement.cpp
        svg/graphics/SVGImage.cpp
        svg/graphics/filters/SVGFEConvolveMatrix.cpp
        svg/graphics/filters/SVGFEDiffuseLighting.cpp
        svg/graphics/filters/SVGFEDisplacementMap.cpp
        svg/graphics/filters/SVGFEFlood.cpp
        svg/graphics/filters/SVGFEImage.cpp
        svg/graphics/filters/SVGFELighting.cpp
        svg/graphics/filters/SVGFEMerge.cpp
        svg/graphics/filters/SVGFEMorphology.cpp
        svg/graphics/filters/SVGFEOffset.cpp
        svg/graphics/filters/SVGFESpecularLighting.cpp
        svg/graphics/filters/SVGFETile.cpp
        svg/graphics/filters/SVGFETurbulence.cpp
        svg/graphics/filters/SVGFilter.cpp
        svg/graphics/filters/SVGFilterBuilder.cpp
        svg/graphics/filters/SVGLightSource.cpp
    )
ENDIF()

SET(IDL_INCLUDES "")
FOREACH (_include ${WebCore_IDL_INCLUDES})
    LIST(APPEND IDL_INCLUDES --include=${WEBCORE_DIR}/${_include})
ENDFOREACH()

SET(WebCore_CPP_IDL_FILES
    ${WebCore_IDL_FILES})

FOREACH (_file ${WebCore_NO_CPP_IDL_FILES})
    STRING(REPLACE ${_file} "" WebCore_CPP_IDL_FILES "${WebCore_CPP_IDL_FILES}")
ENDFOREACH ()

SET(WebCore_JSCDOM_IDL_FILES
    ${WebCore_CPP_IDL_FILES})

SET(WebCore_CPP_IDL_FILES
    dom/EventListener.idl
    html/canvas/CanvasPixelArray.idl
    ${WebCore_CPP_IDL_FILES})

FOREACH (_file ${WebCore_IDL_FILES})
    GENERATE_JS_FROM_IDL(${_file})
ENDFOREACH ()


FOREACH (_file ${WebCore_CPP_IDL_FILES})
    GENERATE_WEBDOM_FROM_IDL(${_file})
ENDFOREACH ()

GENERATE_JSCDOM_FROM_IDL("${WebCore_JSCDOM_IDL_FILES}")


FOREACH (_file ${WebCore_IDL_PURE_FILES})
    GENERATE_JS_FROM_IDL_PURE(${_file})
ENDFOREACH ()

LIST(APPEND WebCore_SOURCES ${JS_IDL_FILES} ${Inspector_IDL_FILES} ${WEBDOM_IDL_FILES} ${JSCDOM_IDL_FILES})

GENERATE_GPERF("c" ${WEBCORE_DIR}/html/HTMLEntityNames.gperf findEntity "-c")
GENERATE_GPERF("c" ${WEBCORE_DIR}/platform/ColorData.gperf findColor "")
GENERATE_GPERF("cpp" ${WEBCORE_DIR}/html/DocTypeStrings.gperf findDoctypeEntry "-F,PubIDInfo::eAlmostStandards,PubIDInfo::eAlmostStandards")

GENERATE_TOKENIZER()
GENERATE_USER_AGENT_STYLES()

GENERATE_GRAMMAR(cssyy ${WEBCORE_DIR}/css/CSSGrammar.y)
GENERATE_GRAMMAR(xpathyy ${WEBCORE_DIR}/xml/XPathGrammar.y)

GENERATE_CSS_PROPERTY_NAMES()
GENERATE_CSS_VALUE_KEYWORDS()

ADD_SOURCE_DERIVED_DEPENDENCIES(${DERIVED_SOURCES_DIR}/CSSGrammar.cpp CSSValueKeywords.h)
ADD_SOURCE_DERIVED_DEPENDENCIES(${DERIVED_SOURCES_DIR}/CSSGrammar.cpp CSSPropertyNames.h)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/css/CSSPrimitiveValueMappings.h CSSValueKeywords.h)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/html/HTMLDocument.cpp DocTypeStrings.cpp)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/platform/graphics/Color.cpp ColorData.c)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/css/CSSParser.cpp tokenizer.cpp)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/html/PreloadScanner.cpp HTMLEntityNames.c)
ADD_SOURCE_DERIVED_DEPENDENCIES(${WEBCORE_DIR}/css/CSSStyleSelector.cpp UserAgentStyleSheetsData.cpp UserAgentStyleSheets.h)

GENERATE_DOM_NAMES_FACTORY(HTML ${WEBCORE_DIR}/html/HTMLTagNames.in ${WEBCORE_DIR}/html/HTMLAttributeNames.in "${HTML_FEATURES}")
GENERATE_DOM_NAMES_FACTORY(SVG ${WEBCORE_DIR}/svg/svgtags.in ${WEBCORE_DIR}/svg/svgattrs.in "${SVG_FEATURES}")
GENERATE_DOM_NAMES_ONLY(XLink ${WEBCORE_DIR}/svg/xlinkattrs.in)
GENERATE_DOM_NAMES_ONLY(XMLNS ${WEBCORE_DIR}/xml/xmlnsattrs.in)
GENERATE_DOM_NAMES_ONLY(XML ${WEBCORE_DIR}/xml/xmlattrs.in)

SET(WebCore_LIBRARIES
    ${JavaScriptCore_LIBRARY_NAME}
)


# Declare source groups for Visual Studio folders
SOURCE_GROUP(accessibility "accessibility/")
SOURCE_GROUP(bindings "bindings/")
SOURCE_GROUP(bridge "bridge/")
SOURCE_GROUP(Configurations "Configurations/")
SOURCE_GROUP(css "css/")
SOURCE_GROUP(dom "dom/")
SOURCE_GROUP(editing "editing/")
SOURCE_GROUP(ForwardingHeaders "ForwardingHeaders/")
SOURCE_GROUP(history "history/")
SOURCE_GROUP(html "html/")
SOURCE_GROUP(icu "icu/")
SOURCE_GROUP(inspector "inspector/")
SOURCE_GROUP(JavaScriptCore "JavaScriptCore/")
SOURCE_GROUP(loader "loader/")
SOURCE_GROUP(manual-tests "manual-tests/")
SOURCE_GROUP(mathml "mathml/")
SOURCE_GROUP(notifications "notifications/")
SOURCE_GROUP(page "page/")
SOURCE_GROUP(platform "platform/")
SOURCE_GROUP(plugins "plugins/")
SOURCE_GROUP(Programs "Programs/")
SOURCE_GROUP(rendering "rendering/")
SOURCE_GROUP(Resources "Resources/")
SOURCE_GROUP(SharedScript "SharedScript/")
SOURCE_GROUP(storage "storage/")
SOURCE_GROUP(svg "svg/")
SOURCE_GROUP(WebCore "WebCore/")
SOURCE_GROUP(websockets "websockets/")
SOURCE_GROUP(wml "wml/")
SOURCE_GROUP(workers "workers/")
SOURCE_GROUP(xml "xml/")

INCLUDE_IF_EXISTS(${WEBCORE_DIR}/CMakeLists${PORT}.txt)

ADD_DEFINITIONS(-DBUILDING_WebCore)
INCLUDE_DIRECTORIES(${WebCore_INCLUDE_DIRECTORIES})
ADD_LIBRARY(${WebCore_LIBRARY_NAME} ${WebCore_LIBRARY_TYPE} ${WebCore_SOURCES})
TARGET_LINK_LIBRARIES(${WebCore_LIBRARY_NAME} ${WebCore_LIBRARIES} ${optionalLibs})

#INSTALL(TARGETS ${WebCore_LIBRARY_NAME} DESTINATION ${CMAKE_BINARY_DIR}/lib)
